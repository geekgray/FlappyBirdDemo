require=function n(s,c,a){function p(i,t){if(!c[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[i]={exports:{}};s[i][0].call(r.exports,function(t){return p(s[i][1][t]||t)},r,r.exports,n,s,c,a)}return c[i].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)p(a[t]);return p}({Main:[function(t,i,e){"use strict";cc._RF.push(i,"54a84017AxBX6gZzDJddXRG","Main"),Object.defineProperty(e,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,n=o.property,s=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t.bg=null,t.bird=null,t.obstacles=null,t.lbScore=null,t.pastTime=0,t.speed=0,t.score=0,t.isPlaying=!1,t}return __extends(t,i),t.prototype.onLoad=function(){console.log(this.lbScore)},t.prototype.start=function(){},t.prototype.play=function(t){t.currentTarget.active=!1,this.isPlaying=!0},t.prototype.gameOver=function(){this.isPlaying=!1},t.prototype.update=function(t){this.pastTime+=t,this.changeBirdSprite(),this.isPlaying&&(this.birdGravity(),this.moveBg(),this.movePipe())},t.prototype.collision=function(t){this.bird.x+8.5<t.x-26||this.bird.x-8.5>t.x+26||this.bird.y+12<t.y+60&&this.bird.y-12>t.y-60||(console.log("game over!!"),this.gameOver())},t.prototype.birdGravity=function(){this.speed-=.1,this.bird.rotation=10*-this.speed,this.bird.y+=this.speed},t.prototype.flyUp=function(){this.speed=2.5},t.prototype.moveBg=function(){this.bg.x-=1,this.bg.x<=-288&&(this.bg.x=0)},t.prototype.movePipe=function(){var t=this.obstacles.children,i=t[0],e=t[1],o=t[2];i.x-=2,e.x-=2,o.x-=2,i.x<=-144&&(i.x=340,i.y=Math.floor(118*Math.random()),this.score+=1,this.lbScore.string=this.score.toString()),e.x<=-144&&(e.x=340,e.y=Math.floor(118*Math.random()),this.score+=1,this.lbScore.string=this.score.toString()),o.x<=-144&&(o.x=340,o.y=Math.floor(118*Math.random()),this.score+=1,this.lbScore.string=this.score.toString()),this.collision(i),this.collision(e),this.collision(o)},t.prototype.changeBirdSprite=function(){var t=this.pastTime%.6,i=this.bird.children,e=i[0],o=i[1],r=i[2];0<=t&&t<.2&&(e.active=!0,o.active=!1,r.active=!1),.2<=t&&t<.4&&(e.active=!1,o.active=!0,r.active=!1),.4<=t&&t<.6&&(e.active=!1,o.active=!1,r.active=!0)},__decorate([n(cc.Node)],t.prototype,"bg",void 0),__decorate([n(cc.Node)],t.prototype,"bird",void 0),__decorate([n(cc.Node)],t.prototype,"obstacles",void 0),__decorate([n(cc.Label)],t.prototype,"lbScore",void 0),t=__decorate([r],t)}(cc.Component);e.default=s,cc._RF.pop()},{}]},{},["Main"]);